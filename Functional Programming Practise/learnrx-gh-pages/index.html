<html>

<head>
	<meta name="viewport" content="width=device-width">
	<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/codemirror/codemirror.css">
	<link rel="stylesheet" href="assets/app/site.css">
	<title>Functional Programming in Javascript</title>
	<script type="text/javascript">
		const newReleases = [
		  {
		    id: 70111470,
		    title: 'Die Hard',
		    boxart: 'http://cdn-0.nflximg.com/images/2891/DieHard.jpg',
		    uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		    rating: [4.0],
		    bookmark: [],
		  },
		  {
		    id: 654356453,
		    title: 'Bad Boys',
		    boxart: 'http://cdn-0.nflximg.com/images/2891/BadBoys.jpg',
		    uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		    rating: [5.0],
		    bookmark: [{ id: 432534, time: 65876586 }],
		  },
		  {
		    id: 65432445,
		    title: 'The Chamber',
		    boxart: 'http://cdn-0.nflximg.com/images/2891/TheChamber.jpg',
		    uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		    rating: [4.0],
		    bookmark: [],
		  },
		  {
		    id: 675465,
		    title: 'Fracture',
		    boxart: 'http://cdn-0.nflximg.com/images/2891/Fracture.jpg',
		    uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		    rating: [5.0],
		    bookmark: [{ id: 432534, time: 65876586 }],
		  },
		];
		const movieLists = [
		  {
		    name: 'New Releases',
		    videos: [
		      {
		        id: 70111470,
		        title: 'Die Hard',
		        boxart: 'http://cdn-0.nflximg.com/images/2891/DieHard.jpg',
		        uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 4.0,
		        bookmark: [],
		      },
		      {
		        id: 654356453,
		        title: 'Bad Boys',
		        boxart: 'http://cdn-0.nflximg.com/images/2891/BadBoys.jpg',
		        uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 5.0,
		        bookmark: [{ id: 432534, time: 65876586 }],
		      },
		    ],
		  },
		  {
		    name: 'Dramas',
		    videos: [
		      {
		        id: 65432445,
		        title: 'The Chamber',
		        boxart: 'http://cdn-0.nflximg.com/images/2891/TheChamber.jpg',
		        uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 4.0,
		        bookmark: [],
		      },
		      {
		        id: 675465,
		        title: 'Fracture',
		        boxart: 'http://cdn-0.nflximg.com/images/2891/Fracture.jpg',
		        uri: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 5.0,
		        bookmark: [{ id: 432534, time: 65876586 }],
		      },
		    ],
		  },
		];
		const movieLists2 = [
		  {
		    name: 'Instant Queue',
		    videos: [
		      {
		        id: 70111470,
		        title: 'Die Hard',
		        boxarts: [
		          {
		            width: 150,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/DieHard150.jpg',
		          },
		          {
		            width: 200,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/DieHard200.jpg',
		          },
		        ],
		        url: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 4.0,
		        bookmark: [],
		      },
		      {
		        id: 654356453,
		        title: 'Bad Boys',
		        boxarts: [
		          {
		            width: 200,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/BadBoys200.jpg',
		          },
		          {
		            width: 150,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/BadBoys150.jpg',
		          },
		        ],
		        url: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 5.0,
		        bookmark: [{ id: 432534, time: 65876586 }],
		      },
		    ],
		  },
		  {
		    name: 'New Releases',
		    videos: [
		      {
		        id: 65432445,
		        title: 'The Chamber',
		        boxarts: [
		          {
		            width: 150,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/TheChamber150.jpg',
		          },
		          {
		            width: 200,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/TheChamber200.jpg',
		          },
		        ],
		        url: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 4.0,
		        bookmark: [],
		      },
		      {
		        id: 675465,
		        title: 'Fracture',
		        boxarts: [
		          {
		            width: 200,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/Fracture200.jpg',
		          },
		          {
		            width: 150,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/Fracture150.jpg',
		          },
		          {
		            width: 300,
		            height: 200,
		            url: 'http://cdn-0.nflximg.com/images/2891/Fracture300.jpg',
		          },
		        ],
		        url: 'http://api.netflix.com/catalog/titles/movies/70111470',
		        rating: 5.0,
		        bookmark: [{ id: 432534, time: 65876586 }],
		      },
		    ],
		  },
		];
		const videoArray = [];

		// Exercise 1 - Use .forEach to push into an array
		function exerciseOne() {
		  newReleases.forEach(function(video) {
		    return videoArray.push({ id: video.id, title: video.title });
		  });
		  return videoArray;
		}

		// Exercise 2 - Using .map to do the same exercise as Exercise 1
		function exerciseTwo() {
		  return newReleases.map(video => {
		    return { id: video.id, title: video.title };
		  });
		}

		// Exercise 3 - Use forEach() to collect only those videos with a rating of 5.0
		function exerciseThree() {
		  newReleases.forEach(function(video) {
		    if (video.rating === 5.0) {
		      videoArray.push(video);
		    }
		  });
		}

		// Exercise 4 - Chain filter and map to collect the ids of videos that have a rating of 5.0
		function exerciseFour() {
		  return newReleases
		    .filter(function(video) {
		      return video.rating === 5.0;
		    })
		    .map(function(video) {
		      return video.id;
		    });
		}
		// Exercise 5 - Flatten the movieLists array into an array of video ids
		function exerciseFive() {
		  movieLists.forEach(function(movieList) {
		    movieList.videos.forEach(function(video) {
		      videoArray.push(video.id);
		    });
		  });

		  return videoArray;
		}
		// Exercise 6 - Retrieve id, title, and a 150x200 box art url for every video
		function exerciseSix() {
		  return movieLists2.map(movieList => {
		    return movieList.videos.map(video => {
		      return video.boxarts
		        .filter(boxart => {
		          return boxart.height === 200 && boxart.width === 150;
		        })
		        .map(function(boxart) {
		          return { id: video.id, title: video.title, boxart: boxart.url };
		        });
		    });
		  });
		}
		// Exercise 7 - Use forEach to find the largest box art
		function exerciseSeven() {
		  const boxarts = [
		    {
		      width: 200,
		      height: 200,
		      url: 'http://cdn-0.nflximg.com/images/2891/Fracture200.jpg',
		    },
		    {
		      width: 150,
		      height: 200,
		      url: 'http://cdn-0.nflximg.com/images/2891/Fracture150.jpg',
		    },
		    {
		      width: 300,
		      height: 200,
		      url: 'http://cdn-0.nflximg.com/images/2891/Fracture300.jpg',
		    },
		    {
		      width: 425,
		      height: 150,
		      url: 'http://cdn-0.nflximg.com/images/2891/Fracture425.jpg',
		    },
		  ];
		  let currentSize;
		  let maxSize = -1;
		  let largestBoxart;

		  boxarts.forEach(boxart => {
		    currentSize = boxart.width * boxart.height;
		    if (currentSize > maxSize) {
		      maxSize = currentSize;
		      largestBoxart = boxart;
		    }
		  });
		  return largestBoxart;
		}

		// Exercise 8 -  Retrieve the largest rating
		function exerciseEight() {
		  const ratings = [2, 3, 10, 4, 5];
		  return ratings.reduce((prevVal, curVal) => {
		    if (curVal > prevVal) {
		      return curVal;
		    }
		    return prevVal;
		  });
		}
	</script>
	</body>

</html>